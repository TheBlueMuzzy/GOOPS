---
phase: 23-code-rename
plan: 07
type: execute
---

<objective>
Rename remaining Goop-related terms and state variables.

Purpose: Complete the terminology migration with supporting goop terms.
Output: All remaining glossary terms applied, Phase 23 complete.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/GLOSSARY.md
@.planning/phases/23-code-rename/23-06-SUMMARY.md

**Key files to modify:**
@components/GameBoard.tsx - UI rendering
@components/PiecePreview.tsx - Preview display
@components/goopRenderer.tsx - Goop rendering
@core/GameEngine.ts - State variables
@core/gameLogic.ts - Game logic

**Migration targets:**
- storedPiece -> storedGoop (12 refs)
- nextPiece -> nextGoop (20 refs)
- FallingBlock -> LooseGoop (18 refs)
- ghost -> goopGhost (8 refs)
- isGlowing -> isSealingGoop (12 refs)
- BlockData -> GoopBlock (4 refs)
- pressure -> tankPressure (67 refs)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename piece storage and preview terms</name>
  <files>types.ts, core/GameEngine.ts, components/GameBoard.tsx, components/PiecePreview.tsx</files>
  <action>
    1. Rename storedPiece -> storedGoop (12 refs):
       - State field in GameEngine
       - Props in GameBoard
       - Swap functionality

    2. Rename nextPiece -> nextGoop (20 refs):
       - State field in GameEngine
       - Preview component
       - Display logic

    3. Rename ghost -> goopGhost (8 refs):
       - The transparent landing preview
       - Rendering in GameBoard

    These are the piece storage and preview terms used throughout UI.
  </action>
  <verify>grep -rE "storedPiece|nextPiece|\.ghost[^A-Za-z]" --include="*.ts" --include="*.tsx" . | grep -v node_modules returns no matches</verify>
  <done>storedPiece -> storedGoop, nextPiece -> nextGoop, ghost -> goopGhost complete.</done>
</task>

<task type="auto">
  <name>Task 2: Rename FallingBlock, BlockData, and isGlowing</name>
  <files>types.ts, core/gameLogic.ts, core/GameEngine.ts, components/*.tsx</files>
  <action>
    1. Rename FallingBlock -> LooseGoop (18 refs):
       - Type definition in types.ts
       - Physics calculations in gameLogic
       - Rendering in GameEngine

    2. Rename BlockData -> GoopBlock (4 refs):
       - Type for individual settled goop units
       - Type definitions and usages

    3. Rename isGlowing -> isSealingGoop (12 refs):
       - Property indicating goop is sealing a crack
       - Rendering logic in goopRenderer
       - State tracking

    These complete the goop state terminology.
  </action>
  <verify>grep -rE "FallingBlock|BlockData|isGlowing" --include="*.ts" --include="*.tsx" . | grep -v node_modules returns no matches</verify>
  <done>FallingBlock -> LooseGoop, BlockData -> GoopBlock, isGlowing -> isSealingGoop complete.</done>
</task>

<task type="auto">
  <name>Task 3: Rename pressure to tankPressure</name>
  <files>core/GameEngine.ts, core/gameLogic.ts, components/GameBoard.tsx, hooks/useInputHandlers.ts</files>
  <action>
    1. Rename pressure -> tankPressure (67 refs):
       - State field in GameEngine (5 refs)
       - gameLogic calculations (10 refs)
       - GameBoard display (7 refs)
       - Input handlers (6 refs)
       - Other components

    BE CAREFUL: "pressure" is a common word.
    - Only rename game-state pressure (state.pressure, this.pressure)
    - Skip CSS class names (pressure-meter, etc.) - those are UI identifiers
    - Skip comments that describe the concept
    - Focus on variable/property names

    This represents how close the player is to losing (0-100%).
  </action>
  <verify>grep -rE "state\.pressure[^A-Za-z]|this\.pressure[^A-Za-z]|getPressure" --include="*.ts" --include="*.tsx" . | grep -v node_modules shows only tankPressure</verify>
  <done>pressure -> tankPressure complete in game state context.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx tsc --noEmit` passes with no errors
- [ ] `npm run test:run` passes all tests
- [ ] grep "storedPiece|nextPiece" returns no matches
- [ ] grep "FallingBlock|BlockData|isGlowing" returns no matches
- [ ] grep "state.pressure" returns no matches (now tankPressure)
- [ ] Piece preview displays correctly
- [ ] Falling blocks animate correctly
- [ ] Pressure meter displays correctly
- [ ] All glossary terms applied
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Zero references to old terms
- Tests pass
- TypeScript compiles clean
- **Phase 23 complete** - all glossary terms migrated
</success_criteria>

<output>
After completion, create `.planning/phases/23-code-rename/23-07-SUMMARY.md`:

# Phase 23 Plan 07: Remaining Goop Terms Summary

**[One-liner describing what shipped]**

## Accomplishments

- [Key outcomes]

## Files Modified

- [List with descriptions]

## Decisions Made

[Any deviations or choices]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 23 complete. All glossary terms migrated. Ready for Phase 24 (UI & Documentation).
</output>
