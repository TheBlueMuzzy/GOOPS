---
phase: 23-code-rename
plan: 01
type: execute
---

<objective>
Rename all softDrop terminology to fastDrop throughout the codebase.

Purpose: Eliminate vestigial Tetris terminology. "Soft drop" implies a "hard drop" exists, but our game only has one drop acceleration. "Fast drop" accurately describes the mechanic.
Output: All code, types, events, and comments use "fastDrop" terminology consistently.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/GLOSSARY.md
@.planning/phases/22-audit-glossary/AUDIT.md

**Reference Files (from AUDIT.md Priority 1):**
@src/core/events/GameEvents.ts
@src/core/GameEngine.ts
@src/core/commands/actions.ts
@src/hooks/useInputHandlers.ts
@src/Game.tsx
@src/types.ts
@src/complicationConfig.ts
@src/core/ComplicationManager.ts

**Established patterns:**
- Use replace_all for systematic renaming
- Rename constants/types first, then usages
- Update comments last
- Run tests after each task to catch issues early

**Constraining decisions:**
- Phase 22 established: "fast drop" is the official term (GLOSSARY.md)
- No logic changes â€” pure terminology rename
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename constants and event types</name>
  <files>src/core/events/GameEvents.ts, src/core/GameEngine.ts, src/core/commands/actions.ts</files>
  <action>
    1. In GameEvents.ts line 37: Rename `INPUT_SOFT_DROP = 'INPUT_SOFT_DROP'` to `INPUT_FAST_DROP = 'INPUT_FAST_DROP'`
    2. In GameEngine.ts line 33: Rename `const SOFT_DROP_FACTOR = 8` to `const FAST_DROP_FACTOR = 8`
    3. In actions.ts line 152: Rename `type = 'SET_SOFT_DROP'` to `type = 'SET_FAST_DROP'`

    These are the source definitions that all other code references.
  </action>
  <verify>npx tsc --noEmit shows errors for undefined SOFT_DROP references (expected - we renamed the source but not usages yet)</verify>
  <done>Constants renamed. TypeScript errors expected until Task 2 completes.</done>
</task>

<task type="auto">
  <name>Task 2: Update all code usages</name>
  <files>src/hooks/useInputHandlers.ts, src/Game.tsx, src/core/GameEngine.ts</files>
  <action>
    1. In useInputHandlers.ts: Replace all `INPUT_SOFT_DROP` with `INPUT_FAST_DROP` (12 occurrences at lines 237, 260, 262, 281, 327, 330, 449, 471, 474, 493, 530, 533)
    2. In Game.tsx line 283: Replace `INPUT_SOFT_DROP` with `INPUT_FAST_DROP` in event subscription
    3. In GameEngine.ts line 1169: Replace `SOFT_DROP_FACTOR` with `FAST_DROP_FACTOR`

    After this task, TypeScript should compile without errors.
  </action>
  <verify>npx tsc --noEmit passes with no errors</verify>
  <done>All code usages updated. TypeScript compiles clean.</done>
</task>

<task type="auto">
  <name>Task 3: Update all comments</name>
  <files>src/types.ts, src/complicationConfig.ts, src/hooks/useInputHandlers.ts, src/core/ComplicationManager.ts, src/core/GameEngine.ts, src/Game.tsx</files>
  <action>
    Replace "soft drop" with "fast drop" in comments:

    1. types.ts lines 261, 263
    2. complicationConfig.ts lines 23, 27
    3. useInputHandlers.ts lines 6, 260
    4. ComplicationManager.ts line 129
    5. GameEngine.ts lines 144, 293, 860, 861, 896, 905, 956, 1298
    6. Game.tsx lines 306, 333

    Use case-preserving replacement where needed (e.g., "Soft drop" -> "Fast drop").
  </action>
  <verify>grep -r "soft.drop" --include="*.ts" --include="*.tsx" src/ returns no matches (case-insensitive)</verify>
  <done>All comments updated. No "soft drop" text remains in source files.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx tsc --noEmit` passes
- [ ] `npm run test:run` passes all tests
- [ ] `grep -ri "soft.drop\|SOFT_DROP" src/` returns no matches
- [ ] Game still functions: fast drop accelerates piece, recharges lights
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Zero references to "soft drop" or "SOFT_DROP" in src/
- Tests pass
- TypeScript compiles
</success_criteria>

<output>
After completion, create `.planning/phases/23-code-rename/23-01-SUMMARY.md`:

# Phase 23 Plan 01: softDrop -> fastDrop Summary

**[One-liner describing what shipped]**

## Accomplishments

- Renamed INPUT_SOFT_DROP to INPUT_FAST_DROP
- Renamed SOFT_DROP_FACTOR to FAST_DROP_FACTOR
- Renamed SET_SOFT_DROP to SET_FAST_DROP
- Updated ~30 code usages and comments

## Files Modified

- [List each file with description]

## Decisions Made

[Any deviations or choices made during execution]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 23-02-PLAN.md (totalUnits -> totalBlocks)
</output>
